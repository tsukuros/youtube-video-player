{"version":3,"sources":["src/js/video-player.js"],"names":["window","VideoPlayer","elem","containerElem","videoElem","querySelector","playPauseIconElem","controlPlayPauseElem","addEventListener","toggle","bind","keydown","prototype","constructor","play","classList","add","style","display","setTimeout","hidePlayPauseIcon","pause","paused","remove","e","keyCode","target","document","body","preventDefault","forEach","call","querySelectorAll"],"mappings":";CAAA,SAAWA,GACAC,SAAAA,EAAYC,GACdC,KAAAA,cAAgBD,EAChBE,KAAAA,UAAY,KAAKD,cAAcE,cAAc,yBAC7CC,KAAAA,kBAAoB,KAAKH,cAAcE,cAC1C,mCAEGE,KAAAA,qBAAuB,KAAKJ,cAAcE,cAC7C,gCAIGD,KAAAA,UAAUI,iBAAiB,QAAS,KAAKC,OAAOC,KAAK,OACrDH,KAAAA,qBAAqBC,iBAAiB,QAAS,KAAKC,OAAOC,KAAK,OACrEV,EAAOQ,iBAAiB,UAAW,KAAKG,QAAQD,KAAK,OAGvDT,EAAYW,UAAY,CACtBC,YAAaZ,EACba,KAAM,WACCV,KAAAA,UAAUU,OACVR,KAAAA,kBAAkBS,UAAUC,IAAI,aAChCV,KAAAA,kBAAkBW,MAAMC,QAAU,GACvClB,EAAOmB,WAAW,KAAKC,kBAAkBV,KAAK,MAAO,MAEvDW,MAAO,WACAjB,KAAAA,UAAUiB,QACVf,KAAAA,kBAAkBS,UAAUC,IAAI,cAChCV,KAAAA,kBAAkBW,MAAMC,QAAU,GACvClB,EAAOmB,WAAW,KAAKC,kBAAkBV,KAAK,MAAO,MAEvDD,OAAQ,WACF,KAAKL,UAAUkB,OAAQ,KAAKR,OAC3B,KAAKO,QACLlB,KAAAA,cAAcY,UAAUN,OAAO,eAEtCW,kBAAmB,WACZd,KAAAA,kBAAkBS,UAAUQ,OAAO,aACnCjB,KAAAA,kBAAkBS,UAAUQ,OAAO,cACnCjB,KAAAA,kBAAkBW,MAAMC,QAAU,QAEzCP,QAAS,SAAUa,GACTA,OAAAA,EAAEC,SACH,KAAA,GACA,KAAA,GACEhB,KAAAA,SACDe,EAAEE,SAAWC,SAASC,MAAMJ,EAAEK,oBAS1C7B,EAAOC,YAAcA,EAElB6B,GAAAA,QAAQC,KACTJ,SAASK,iBAAiB,6BAC1B,SAAU9B,GACJD,IAAAA,EAAYC,KA5DtB,CA+DGF","file":"video-player.b8d3ee38.js","sourceRoot":"..","sourcesContent":["(function (window) {\n  function VideoPlayer(elem) {\n    this.containerElem = elem;\n    this.videoElem = this.containerElem.querySelector('[data-player=\"video\"]');\n    this.playPauseIconElem = this.containerElem.querySelector(\n      '[data-player=\"play-pause-icon\"]'\n    );\n    this.controlPlayPauseElem = this.containerElem.querySelector(\n      '[data-player=\"control-play\"]'\n    );\n\n    // events\n    this.videoElem.addEventListener(\"click\", this.toggle.bind(this));\n    this.controlPlayPauseElem.addEventListener(\"click\", this.toggle.bind(this));\n    window.addEventListener(\"keydown\", this.keydown.bind(this));\n  }\n\n  VideoPlayer.prototype = {\n    constructor: VideoPlayer,\n    play: function () {\n      this.videoElem.play();\n      this.playPauseIconElem.classList.add(\"play-mode\");\n      this.playPauseIconElem.style.display = \"\";\n      window.setTimeout(this.hidePlayPauseIcon.bind(this), 500);\n    },\n    pause: function () {\n      this.videoElem.pause();\n      this.playPauseIconElem.classList.add(\"pause-mode\");\n      this.playPauseIconElem.style.display = \"\";\n      window.setTimeout(this.hidePlayPauseIcon.bind(this), 500);\n    },\n    toggle: function () {\n      if (this.videoElem.paused) this.play();\n      else this.pause();\n      this.containerElem.classList.toggle(\"is-playing\");\n    },\n    hidePlayPauseIcon: function () {\n      this.playPauseIconElem.classList.remove(\"play-mode\");\n      this.playPauseIconElem.classList.remove(\"pause-mode\");\n      this.playPauseIconElem.style.display = \"none\";\n    },\n    keydown: function (e) {\n      switch (e.keyCode) {\n        case 32:\n        case 75:\n          this.toggle();\n          if (e.target === document.body) e.preventDefault();\n          break;\n        default:\n          break;\n      }\n    },\n  };\n\n  // also, latch onto something to expose to the wider world\n  window.VideoPlayer = VideoPlayer;\n\n  [].forEach.call(\n    document.querySelectorAll('[data-player=\"container\"]'),\n    function (elem) {\n      new VideoPlayer(elem);\n    }\n  );\n})(window);\n"]}